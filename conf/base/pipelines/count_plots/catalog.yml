# Datasets containing extracted plot images to process.
_plot_image_params: &plot_image_params
  type: cotton_counter.data_sets.MultiFileDataSet
  versioned: False
  dataset: pillow.ImageDataSet
  extension: .tif
  prefix: plot

plots_2021-08-09:
  filepath: ${plot_image_dir}/p4/2021-08-09
  << : *plot_image_params

plots_2021-08-13:
  filepath: ${plot_image_dir}/p4/2021-08-13
  << : *plot_image_params

plots_2021-08-16:
  filepath: ${plot_image_dir}/p4/2021-08-16
  << : *plot_image_params

plots_2021-08-20:
  filepath: ${plot_image_dir}/p4/2021-08-20
  << : *plot_image_params

plots_2021-08-27:
  filepath: ${plot_image_dir}/m100/2021-08-27
  << : *plot_image_params

plots_2021-08-30:
  filepath: ${plot_image_dir}/m100/2021-08-30
  << : *plot_image_params

plots_2021-09-03:
  filepath: ${plot_image_dir}/m100/2021-09-03
  << : *plot_image_params

plots_2021-09-06:
  filepath: ${plot_image_dir}/m100/2021-09-06
  << : *plot_image_params

plots_2021-09-10:
  filepath: ${plot_image_dir}/m100/2021-09-10
  << : *plot_image_params

plots_2021-09-13:
  filepath: ${plot_image_dir}/m100/2021-09-13
  << : *plot_image_params

plots_2021-09-17:
  filepath: ${plot_image_dir}/m100/2021-09-17
  << : *plot_image_params

plots_2021-09-24:
  filepath: ${plot_image_dir}/m100/2021-09-24
  << : *plot_image_params

plots_2021-09-27:
  filepath: ${plot_image_dir}/m100/2021-09-27
  << : *plot_image_params

plots_2021-10-01:
  filepath: ${plot_image_dir}/m100/2021-10-01
  << : *plot_image_params

plots_2021-10-11:
  filepath: ${plot_image_dir}/m100/2021-10-11
  << : *plot_image_params

plots_2021-10-15:
  filepath: ${plot_image_dir}/m100/2021-10-15
  << : *plot_image_params

plots_2021-10-18:
  filepath: ${plot_image_dir}/m100/2021-10-18
  << : *plot_image_params

plots_2021-10-22:
  filepath: ${plot_image_dir}/m100/2021-10-22
  << : *plot_image_params

plots_2021-10-25:
  filepath: ${plot_image_dir}/m100/2021-10-25
  << : *plot_image_params

plots_2021-10-29:
  filepath: ${plot_image_dir}/m100/2021-10-29
  << : *plot_image_params

plots_2021-11-01:
  filepath: ${plot_image_dir}/m100/2021-11-01
  << : *plot_image_params

plots_2021-11-05:
  filepath: ${plot_image_dir}/m100/2021-11-05
  << : *plot_image_params

# Dataset containing all the detection results.
detection_results:
  type: pandas.ParquetDataSet
  filepath: data/03_primary/detection_results.parquet
  versioned: True

# Dataset containing estimated counts for each plot.
counting_results:
  type: pandas.ParquetDataSet
  filepath: data/03_primary/counting_results.parquet
  versioned: True

# Dataset containing the final counts in a human-readable format.
human_readable_counts:
  type: pandas.ExcelDataSet
  filepath: data/08_reporting/plot_counts.xlsx
  versioned: True

# Dataset containing the genotype information.
genotype_spreadsheet:
  type: pandas.ExcelDataSet
  filepath: data/01_raw/IHF_NILs_Genotype_Information.xlsx
  versioned: False
  load_args:
    engine: openpyxl

# Histogram of the peak flowering times.
peak_flowering_histogram:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/peak_flowering_histogram.png
  versioned: True

# Histogram of flowering start times.
flowering_start_histogram:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/flowering_start_histogram.png
  versioned: True

# Histogram of flowering end times.
flowering_end_histogram:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/flowering_end_histogram.png
  versioned: True

# Individual flowering curves for each plot.
flowering_curves:
  type: cotton_counter.data_sets.MultiFileDataSet
  versioned: True
  dataset: matplotlib.MatplotlibWriter
  prefix: genotype
  extension: .png
  filepath: data/08_reporting/flowering_curves
