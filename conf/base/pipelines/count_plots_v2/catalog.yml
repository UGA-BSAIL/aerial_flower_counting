# Field configuration.
top_field_config_raw:
  type: yaml.YAMLDataSet
  filepath: data/01_raw/field_config_tifton_top.yml

middle_field_config_raw:
  type: yaml.YAMLDataSet
  filepath: data/01_raw/field_config_tifton_middle.yml

bottom_field_config_raw:
  type: yaml.YAMLDataSet
  filepath: data/01_raw/field_config_tifton_bottom.yml

  # Plot boundaries.
plot_borders_top:
  type: cotton_counter.data_sets.ShapefileDataSet
  filepath: data/01_raw/plot_boundaries/top/2023-08-14_plot_borders_top.shp

plot_borders_middle:
  type: cotton_counter.data_sets.ShapefileDataSet
  filepath: data/01_raw/plot_boundaries/middle/2023-08-14_plot_borders_middle.shp

plot_borders_bottom:
  type: cotton_counter.data_sets.ShapefileDataSet
  filepath: data/01_raw/plot_boundaries/bottom/2023-08-14_plot_borders_bottom.shp

# Datasets containing raw images to process.
_image_params: &image_params
  type: PartitionedDataSet
  filename_suffix: ".JPG"
  dataset:
    type: pillow.ImageDataSet

# Datasets containing the camera configuration.
user_camera_config:
  type: yaml.YAMLDataSet
  filepath: data/01_raw/camera_config.yml

2023-08-14_auto_camera_config:
  type: text.TextDataSet
  filepath: data/01_raw/metashape_cameras/2023-08-14_cameras.xml

# Datasets containing raw images.
images_2023-08-14:
  path: ${corrected_image_dir}/2023-08-14
  << : *image_params

# Shapefile containing the image extents.
image_extents_2023-08-14:
  type: cotton_counter.data_sets.ShapefileDataSet
  filepath: data/08_reporting/image_extents.shp
  versioned: True
  schema:
    geometry: Polygon
    properties:
      - [ image_id, str ]
  epsg_crs: 32617

# Shapefile containing the output bounding boxes.
bounding_box_shapes:
  type: cotton_counter.data_sets.ShapefileDataSet
  filepath: data/08_reporting/bounding_boxes.shp
  versioned: True
  schema:
    geometry: Polygon
    properties:
      - [confidence, float]
      - [session, str]
      - [image_id, str]
      - [box_num, int]
  epsg_crs: 32617