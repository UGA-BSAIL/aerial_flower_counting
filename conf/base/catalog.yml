# Datasets containing raw images to process.
_image_params: &image_params
  type: PartitionedDataSet
  filename_suffix: ".JPG"
  dataset:
    type: pillow.ImageDataSet

images_2023-07-27:
  path: ${corrected_image_dir}/2023-07-27
  << : *image_params

images_2023-08-01:
  path: ${corrected_image_dir}/2023-08-01
  << : *image_params

images_2023-08-03:
  path: ${corrected_image_dir}/2023-08-03
  << : *image_params

images_2023-08-07:
  path: ${corrected_image_dir}/2023-08-07
  << : *image_params

images_2023-08-10:
  path: ${corrected_image_dir}/2023-08-10
  << : *image_params

images_2023-08-14:
  path: ${corrected_image_dir}/2023-08-14
  << : *image_params

images_2023-08-18:
  path: ${corrected_image_dir}/2023-08-18
  << : *image_params

images_2023-08-21:
  path: ${corrected_image_dir}/2023-08-21
  << : *image_params

images_2023-08-24:
  path: ${corrected_image_dir}/2023-08-24
  << : *image_params

images_2023-08-28:
  path: ${corrected_image_dir}/2023-08-28
  << : *image_params

images_2023-09-01:
  path: ${corrected_image_dir}/2023-09-01
  << : *image_params

images_2023-09-05:
  path: ${corrected_image_dir}/2023-09-05
  << : *image_params

images_2023-09-07:
  path: ${corrected_image_dir}/2023-09-07
  << : *image_params

images_2023-09-12:
  path: ${corrected_image_dir}/2023-09-12
  << : *image_params

images_2023-09-14:
  path: ${corrected_image_dir}/2023-09-14
  << : *image_params

images_2023-09-18:
  path: ${corrected_image_dir}/2023-09-18
  << : *image_params

images_2023-09-21:
  path: ${corrected_image_dir}/2023-09-21
  << : *image_params

images_2023-09-28:
  path: ${corrected_image_dir}/2023-09-28
  << : *image_params

images_2023-10-04:
  path: ${corrected_image_dir}/2023-10-04
  << : *image_params

images_2023-10-11:
  path: ${corrected_image_dir}/2023-10-11
  << : *image_params

images_2023-11-17:
  path: ${corrected_image_dir}/2023-11-17
  << : *image_params

  # Dataset containing the excess green values for the input images.
excess_green:
  type: cotton_counter.data_sets.ParallelPartitionedDataSet
  filename_suffix: ".png"
  max_workers: 16
  path: data/02_intermediate/excess_green
  dataset:
    type: pillow.ImageDataSet

# Dataset containing all the detection results.
detection_results:
  type: pandas.ParquetDataSet
  filepath: data/03_primary/detection_results.parquet
  versioned: True

# Dataset containing estimated counts for each plot.
counting_results:
  type: pandas.ParquetDataSet
  filepath: data/03_primary/counting_results.parquet
  versioned: True

# Dataset containing estimated counts for each plot within the GT sampling
# region.
counting_results_gt_sample:
  type: pandas.ParquetDataSet
  filepath: data/03_primary/counting_results_gt_sample.parquet
  versioned: True

# Dataset containing per-plot metrics in a human-readable format.
human_readable_metrics:
  type: pandas.ExcelDataSet
  filepath: data/08_reporting/plot_metrics.xlsx
  versioned: True

# Plot of ground-truth vs. predicted data.
ground_truth_vs_predicted:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/ground_truth_vs_predicted.png
  versioned: True

# Plot of the regression with the ground-truth counts.
ground_truth_regression_plot:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/ground_truth_regression.png
  versioned: True

# Histogram of the peak flowering times.
peak_flowering_histogram:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/peak_flowering_histogram.png
  versioned: True

# Histogram of flowering start times.
flowering_start_histogram:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/flowering_start_histogram.png
  versioned: True

# Histogram of flowering end times.
flowering_end_histogram:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/flowering_end_histogram.png
  versioned: True

# Histogram of flowering durations.
flowering_duration_histogram:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/flowering_duration_histogram.png
  versioned: True

# Histogram of flowering slopes.
flowering_slope_histogram:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/flowering_slope_histogram.png
  versioned: True

# Comparison of the peak flowering times for different populations.
peak_flowering_comparison:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/peak_flowering_comparison.png
  versioned: True

# Comparison of flowering start times for different populations.
flowering_start_comparison:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/flowering_start_comparison.png
  versioned: True

# Comparison of flowering end times for different populations.
flowering_end_comparison:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/flowering_end_comparison.png
  versioned: True

# Comparison of flowering durations for different populations.
flowering_duration_comparison:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/flowering_duration_comparison.png
  versioned: True

# Comparison of flowering slopes for different populations.
flowering_slope_comparison:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/flowering_slope_comparison.png
  versioned: True

# Mean flowering curve for each population.
mean_flowering_curve:
  type: matplotlib.MatplotlibWriter
  filepath: data/08_reporting/mean_flowering_curve.png
  versioned: True
